fcf.module({name:"fcfManagement:templates/pages/data/records/records+body.wrapper.js",dependencies:["fcf:NRender/Wrapper.js"],module:function(Wrapper){return class extends Wrapper{constructor(a_initializeOptions){super(a_initializeOptions)}onView(a_id,a_title){fcf.application.render({template:"fcfManagement:templates/blocks/dialog.tmpl",args:{title:fcf.t("View record")+" '"+a_title+"'",width:"100%",content:fcf.arg("template",{template:"@dbcontrols:form",args:{fcfAlias:"form",mode:"read",projection:fcf.getRoute().args.projection,key:a_id}}),buttons:["close"]}})}onEdit(a_id,a_title){fcf.application.render({template:"fcfManagement:templates/blocks/dialog.tmpl",args:{title:fcf.t("Edit record")+" '"+a_title+"'",width:"100%",content:fcf.arg("template",{template:"@dbcontrols:form",args:{fcfAlias:"form",mode:"edit",projection:fcf.getRoute().args.projection,key:a_id}}),buttons:["edit","cancel"],fcfEventClose:"fcf.getWrapper('"+this.getId()+"').onEditComplete(event, wrapper.getChild('form'))"}})}onEditComplete(a_event,a_form){let self=this;"edit"==a_event.button&&a_form.write(!0).then(()=>{self.getChild("table").update()}).catch(a_error=>{fcf.log.err("fcfDBControls",a_error),a_event.preventDefault()})}onNewRecord(){fcf.application.render({template:"fcfManagement:templates/blocks/dialog.tmpl",args:{title:fcf.t("Create new record"),width:"100%",content:fcf.arg("template",{template:"@dbcontrols:form",args:{fcfAlias:"form",mode:"add",projection:fcf.getRoute().args.projection}}),buttons:["create","cancel"],fcfEventClose:"fcf.getWrapper('"+this.getId()+"').onNewRecordComplate(event, wrapper.getChild('form'))"}})}onNewRecordComplate(a_event,a_form){let self=this;"create"==a_event.button&&a_form.write(!0).then(()=>{self.getChild("table").update()}).catch(a_error=>{fcf.log.err("fcfDBControls",a_error),a_event.preventDefault()})}onDelete(a_key,a_title){fcf.application.render({template:"fcfManagement:templates/blocks/dialog.tmpl",args:{title:fcf.t("Delete record"),content:fcf.arg("template",{template:"@dbcontrols:removal-form",args:{fcfAlias:"form",key:a_key,projection:fcf.getRoute().args.projection}}),buttons:["delete","cancel"],fcfEventClose:"fcf.getWrapper('"+this.getId()+"').onDeleteComplate(event, wrapper.getChild('form'))"}})}onDeleteComplate(a_event,a_form){let self=this;"delete"==a_event.button&&a_form.delete().then(()=>{self.getChild("table").update()}).catch(a_error=>{fcf.log.err("fcfDBControls",a_error),a_event.preventDefault()})}onArg(a_argName,a_value,a_suffix){this.update()}}}});