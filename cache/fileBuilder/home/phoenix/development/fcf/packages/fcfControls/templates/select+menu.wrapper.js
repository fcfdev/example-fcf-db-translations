fcf.module({name:"fcfControls:templates/select+menu.wrapper.js",dependencies:["fcf:NRender/Wrapper.js"],module:function(Wrapper){return class extends Wrapper{constructor(a_initializeOptions){super(a_initializeOptions),this._cbClose=void 0}onAttach(a_event){var self=this;"none"!=this.getArg("display")&&document.addEventListener("click",()=>{self.close()},{once:!0})}close(){document.removeEventListener("click",this.close),this.setArg("display","none")}onArgDisplay(a_value){"none"===a_value&&this.emit("close"),this.update()}onItem(a_event){var value=a_event.target.getAttribute("value");this.emit("change",{value:value}),this.close()}onKeyDown(a_event){}onUp(){var activeElements=this.select("[name=item].active");fcf.each(activeElements,function(k,el){el.classList.remove("active")});var el=fcf.first(activeElements).previousElementSibling;el?this._setActiveElement(el):this._setActiveElement(fcf.first(this.select("[name=item]")))}onDown(){var el,activeElements=this.select("[name=item].active");(fcf.each(activeElements,function(k,el){el.classList.remove("active")}),fcf.empty(activeElements))?(el=fcf.first(this.select("[name=item]")))&&el.classList.add("active"):(el=fcf.first(activeElements).nextElementSibling)?this._setActiveElement(el):this._setActiveElement(fcf.first(activeElements))}_setActiveElement(a_element){if(a_element){a_element.classList.add("active");var offset=a_element.getBoundingClientRect().top-this.getActionDomElement().getBoundingClientRect().top;this.getActionDomElement().scrollTo(0,offset)}}}}});