fcf.module({name:"fcf:NFSQL/NFilter/NFilter.js",dependencies:[],module:function(){var NFilter=fcf.prepareObject(fcf,"NFSQL.NFilter");return NFilter.getProjectionByField=function(a_handler,a_queryObject,a_originQueryObject,a_field){var alias=a_field.from?a_field.from:a_originQueryObject.from,projectionName=a_queryObject.details.fromAliases[alias]?a_queryObject.details.fromAliases[alias]:alias,projection=a_handler.getProjection(projectionName);return projection||fcf.Exception("ERROR_NFSQL_UNKNOWN_PROJECTION_IN_FIELD",{projection:projectionName,field:a_field.field}),projection},NFilter.getTableByField=function(a_handler,a_queryObject,a_originQueryObject,a_field){return a_field.from&&a_queryObject.details.fromAliases[a_field.from]?a_field.from:NFilter.getProjectionByField(a_handler,a_queryObject,a_originQueryObject,a_field).table},NFilter.getProjectionField=function(a_handler,a_queryObject,a_originQueryObject,a_queryfield){var projection=NFilter.getProjectionByField(a_handler,a_queryObject,a_originQueryObject,a_queryfield),projectionField=projection.mapFields[a_queryfield.field];if(!projectionField)throw new fcf.Exception("ERROR_NFSQL_UNKNOWN_FIELD_IN_QUERY",{projection:projection.alias,field:a_queryfield.field});return projectionField},NFilter.getValue=function(a_handler,a_queryObject,a_originQueryObject,a_queryfield){return a_queryfield.value},NFilter.setAsField=function(a_handler,a_queryObject,a_originQueryObject,a_queryfield,a_originQueryfield){a_queryObject.details.outputAliases||(a_queryObject.details.outputAliases={});var as="";if(as=a_queryfield.as?a_queryfield.as:a_originQueryfield.as?a_originQueryfield.as:"",!fcf.empty(as))return a_queryfield.as=as,a_queryObject.details.outputAliases[as]=!0,as;var alias=a_originQueryfield.from?a_originQueryfield.from:a_originQueryObject.from;a_originQueryObject.from!=alias&&(as+=alias+"."),as+=a_originQueryfield.field,a_originQueryfield.mode&&a_originQueryfield.result&&(as+=":"+a_originQueryfield.mode+":"+a_originQueryfield.result);for(var resas=as,count=1;a_queryObject.details.outputAliases[resas];)resas=as+count,++count;return a_queryfield.as=resas,a_queryObject.details.outputAliases[resas]=!0,resas},NFilter.setAsFieldByValue=function(a_handler,a_as,a_from){a_queryObject.details.outputAliases||(a_queryObject.details.outputAliases={});var as="";fcf.empty(a_from)||(as+=a_from+".");for(var resas=as+=a_as,count=1;a_queryObject.details.outputAliases[resas];)resas=as+count,++count;return a_queryfield.as=resas,a_queryObject.details.outputAliases[resas]=!0,resas},fcf.NFSQL.NFilter}});